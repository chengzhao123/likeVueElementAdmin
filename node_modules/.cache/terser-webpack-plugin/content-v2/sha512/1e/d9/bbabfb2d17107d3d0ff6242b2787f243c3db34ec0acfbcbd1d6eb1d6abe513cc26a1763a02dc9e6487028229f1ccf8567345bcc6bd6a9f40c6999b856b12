{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{841:function(e,t,i){var s=i(22),a=i(842);\"string\"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,\"\"]]);var l={insert:\"head\",singleton:!1},r=s(a,l);if(!a.locals||e.hot.invalidate){var n=a.locals;e.hot.accept(842,(function(){\"string\"==typeof(a=(a=i(842)).__esModule?a.default:a)&&(a=[[e.i,a,\"\"]]),function(e,t,i){if(!e&&t||e&&!t)return!1;var s;for(s in e)if((!i||\"default\"!==s)&&e[s]!==t[s])return!1;for(s in t)if(!(i&&\"default\"===s||e[s]))return!1;return!0}(n,a.locals)?(n=a.locals,r(a)):e.hot.invalidate()}))}e.hot.dispose((function(){r()})),e.exports=a.locals||{}},842:function(e,t,i){(t=i(23)(!1)).push([e.i,\".actions-container[data-v-4b5538a6] {\\n  padding-bottom: 20px;\\n}\\n\",\"\"]),e.exports=t},843:function(e,t,i){\"use strict\";i.r(t),i.d(t,\"render\",(function(){return s})),i.d(t,\"staticRenderFns\",(function(){return a}));var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i(\"div\",{staticClass:\"app-container\"},[i(\"div\",{staticClass:\"actions-container\"},[i(\"el-button\",{attrs:{type:\"primary\",size:\"small\",icon:\"el-icon-plus\"},on:{click:e.handleAddDialog}},[e._v(\"添加角色\")])],1),e._v(\" \"),i(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.listLoading,expression:\"listLoading\"}],attrs:{data:e.infoData,border:\"\",fit:\"\",stripe:\"\"}},[i(\"el-table-column\",{attrs:{align:\"center\",label:\"序号\",width:\"80\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"span\",[e._v(e._s(t.row.roleId))])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{align:\"center\",label:\"角色名称\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"span\",[e._v(e._s(t.row.rolename))])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{align:\"center\",label:\"角色描述\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"span\",[e._v(e._s(t.row.roledesc))])]}}])}),e._v(\" \"),i(\"el-table-column\",{attrs:{align:\"center\",label:\"操作\",width:\"320\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[i(\"el-button\",{attrs:{type:\"primary\",size:\"mini\",icon:\"el-icon-edit\"},on:{click:function(i){return e.handleEditDialog(t.row)}}},[e._v(\"\\n          编辑\\n        \")]),e._v(\" \"),i(\"el-button\",{attrs:{type:\"danger\",size:\"mini\",icon:\"el-icon-delete\"},on:{click:function(i){return e.handleDelete(t.row)}}},[e._v(\"\\n          删除\\n        \")]),e._v(\" \"),i(\"el-button\",{attrs:{type:\"warning\",size:\"mini\",icon:\"el-icon-delete\"},on:{click:function(i){return e.handleEditRole(t.row)}}},[e._v(\"\\n          分配权限\\n        \")])]}}])})],1),e._v(\" \"),i(\"el-dialog\",{attrs:{title:e.editAction?\"修改角色\":\"新增角色\",visible:e.dialogVisible,width:\"80%\"},on:{\"update:visible\":function(t){e.dialogVisible=t}}},[i(\"el-form\",{ref:\"form\",attrs:{rules:e.roleRules,model:e.roleForm,\"label-width\":\"80px\"}},[i(\"el-form-item\",{attrs:{label:\"角色名称\",prop:\"rolename\"}},[i(\"el-input\",{attrs:{disabled:e.editAction,size:\"small\",placeholder:\"请输入角色名称\"},model:{value:e.roleForm.rolename,callback:function(t){e.$set(e.roleForm,\"rolename\",t)},expression:\"roleForm.rolename\"}})],1),e._v(\" \"),i(\"el-form-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:!e.editAction,expression:\"!editAction\"}],attrs:{label:\"角色描述\",prop:\"roledesc\"}},[i(\"el-input\",{attrs:{size:\"small\",placeholder:\"请输入角色描述\"},model:{value:e.roleForm.roledesc,callback:function(t){e.$set(e.roleForm,\"roledesc\",t)},expression:\"roleForm.roledesc\"}})],1),e._v(\" \"),i(\"el-form-item\",{attrs:{label:\"角色权限\",prop:\"role\"}},[i(\"el-tree\",{attrs:{data:e.data,\"show-checkbox\":\"\",\"node-key\":\"id\",props:e.defaultProps}})],1)],1),e._v(\" \"),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{on:{click:function(t){e.dialogVisible=!1}}},[e._v(\"取 消\")]),e._v(\" \"),i(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:!e.editAction,expression:\"!editAction\"}],attrs:{type:\"primary\"},on:{click:e.handleAdd}},[e._v(\"确 定\")]),e._v(\" \"),i(\"el-button\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.editAction,expression:\"editAction\"}],attrs:{type:\"primary\"},on:{click:e.handleEdit}},[e._v(\"确 定\")])],1)],1),e._v(\" \"),i(\"pagination\",{attrs:{total:e.list.length,currentPage:e.listQuery.page,pageSize:e.listQuery.limit},on:{handleCurrentChange:e.handleCurrentChange,handleSizeChange:e.handleSizeChange}})],1)},a=[];s._withStripped=!0},844:function(e,t,i){\"use strict\";var s=i(20),a={name:\"RoleList\",data:()=>({list:[],editAction:!1,listLoading:!1,dialogVisible:!1,listQuery:{page:1,limit:10},defaultProps:{children:\"children\",label:\"label\"},roleForm:{userId:\"\",rolename:\"\",roledesc:\"\",role:[]},roleRules:{rolename:[{required:!0,message:\"请输入角色名称\",trigger:\"blur\"}],roledesc:[{required:!0,message:\"请输入角色描述\",trigger:\"blur\"}]}}),computed:{...Object(s.d)({userList:e=>e.data.userList}),infoData(){return this.list.slice((this.listQuery.page-1)*this.listQuery.limit,this.listQuery.limit*this.listQuery.page)}},filters:{},created(){this.getList()},methods:{...Object(s.b)([\"data/addUserList\",\"data/editUserList\",\"data/delUserList\",\"data/changeUserRole\"]),handleChangeStatus(e){this[\"data/changeUserRole\"](e)},handleEditRole(e){},handleAddDialog(){this.editAction=!1,this.dialogVisible=!0,this.roleForm={userId:\"\",username:\"\",userpassword:\"\",useremail:\"\",usertel:\"\",userrole:\"超级管理员\",status:!0}},handleAdd(){this.$refs.form.validate(e=>{e&&(this.roleForm.userId=this.list.length,this[\"data/addUserList\"](this.roleForm),this.dialogVisible=!1,this.getList())})},handleEditDialog(e){this.editAction=!0,this.roleForm=e,this.dialogVisible=!0},handleEdit(){this.$refs.form.validate(e=>{e&&(this[\"data/editUserList\"](this.roleForm),this.dialogVisible=!1,this.getList())})},handleDelete(e){this.$confirm(\"此操作将永久删除该用户, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(()=>{this[\"data/delUserList\"](e),this.$message({type:\"success\",message:\"删除成功!\"}),this.getList()}).catch(()=>{this.$message({type:\"info\",message:\"已取消删除\"})})},getList(){this.listLoading=!0,setTimeout(()=>{this.listLoading=!1,this.list=Object.assign([],this.userList)},300)},handleCurrentChange(e){this.listQuery.page=e},handleSizeChange(e){this.listQuery.page=1,this.listQuery.limit=e}}};t.a=a},845:function(e,t,i){\"use strict\";var s=i(841);i.n(s).a},846:function(e,t,i){\"use strict\";i.r(t);var s=i(843),a=i(844),l=(i(845),i(11)),r=Object(l.a)(a.a,s.render,s.staticRenderFns,!1,null,\"4b5538a6\",null),n=i(25);n.install(i(5)),n.compatible&&(e.hot.accept(),e.hot.data?n.reload(\"4b5538a6\",r.options):n.createRecord(\"4b5538a6\",r.options),e.hot.accept(843,function(e){s=i(843),n.rerender(\"4b5538a6\",{render:s.render,staticRenderFns:s.staticRenderFns})}.bind(this))),r.options.__file=\"src/page/Permission/roleList.vue\",t.default=r.exports}}]);","extractedComments":[]}