{"code":"webpackHotUpdate(8,{844:function(e,t,i){\"use strict\";var s=i(20),l={name:\"RoleList\",data:()=>({list:[],editAction:!1,listLoading:!1,dialogVisible:!1,listQuery:{page:1,limit:10},defaultProps:{children:\"children\",label:\"label\"},roleForm:{userId:\"\",rolename:\"\",roledesc:\"\",role:[]},roleRules:{rolename:[{required:!0,message:\"请输入角色名称\",trigger:\"blur\"}],roledesc:[{required:!0,message:\"请输入角色描述\",trigger:\"blur\"}]}}),computed:{...Object(s.d)({roleList:e=>e.data.roleList}),...Object(s.c)([\"permission_routes\"]),infoData(){return this.list.slice((this.listQuery.page-1)*this.listQuery.limit,this.listQuery.limit*this.listQuery.page)},roleData(){let e=[];return this.permission_routes.forEach(t=>{!t.hidden&&t.meta&&(t.children&&t.children.length?(e.push({id:t.path,label:t.meta.title,children:[]}),t.children.forEach(t=>{e[e.length-1].children.push({id:t.path,label:t.meta.title})})):e.push({id:t.path,label:t.meta.title}))}),e}},filters:{},created(){this.getList()},methods:{...Object(s.b)([\"data/addUserList\",\"data/editUserList\",\"data/delUserList\",\"data/changeUserRole\",\"data/addRoleList\",\"data/editRoleList\",\"data/delRoleList\"]),handleChangeStatus(e){this[\"data/changeUserRole\"](e)},handleEditRole(e){},handleAddDialog(){this.editAction=!1,this.dialogVisible=!0,this.roleForm={roleId:\"\",rolename:\"\",roledesc:\"\",role:[]}},handleAdd(){this.$refs.form.validate(e=>{e&&(this.roleForm.roleId=this.list.length+1,this[\"data/addRoleList\"](this.roleForm),this.dialogVisible=!1,this.getList())})},handleEditDialog(e){this.editAction=!0,this.roleForm=e,this.dialogVisible=!0},handleEdit(){this.$refs.form.validate(e=>{e&&(this[\"data/editUserList\"](this.roleForm),this.dialogVisible=!1,this.getList())})},handleDelete(e){this.$confirm(\"此操作将永久删除该角色, 是否继续?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(()=>{this[\"data/delUserList\"](e),this.$message({type:\"success\",message:\"删除成功!\"}),this.getList()}).catch(()=>{this.$message({type:\"info\",message:\"已取消删除\"})})},getList(){console.log(this.roleData),this.listLoading=!0,setTimeout(()=>{this.listLoading=!1,this.list=Object.assign([],this.roleList)},300)},handleCurrentChange(e){this.listQuery.page=e},handleSizeChange(e){this.listQuery.page=1,this.listQuery.limit=e}}};t.a=l}});","extractedComments":[]}