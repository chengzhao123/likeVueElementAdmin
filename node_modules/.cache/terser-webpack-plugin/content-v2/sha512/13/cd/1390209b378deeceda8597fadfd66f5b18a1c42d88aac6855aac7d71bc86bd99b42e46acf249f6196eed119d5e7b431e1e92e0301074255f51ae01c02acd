{"code":"webpackHotUpdate(0,{21:function(e,t,i){\"use strict\";var n=i(5),a=i(20),o=i(166),s=i(111);var r=[{path:\"/user\",component:s.a,meta:{roles:[\"admin\"],icon:\"admin\",title:\"用户管理\"},children:[{path:\"userList\",component:()=>i.e(7).then(i.bind(null,836)),name:\"UserList\",meta:{title:\"用户列表\",icon:\"admin\"}}]},{path:\"/article\",component:s.a,name:\"Article\",meta:{title:\"商品管理\",icon:\"admin\"},children:[{path:\"list\",component:()=>i.e(4).then(i.bind(null,831)),name:\"Article List\",meta:{title:\"商品列表\",icon:\"admin\"}},{path:\"edit\",component:()=>i.e(3).then(i.bind(null,832)),name:\"Articl Edit\",meta:{title:\"分类管理\",icon:\"admin\",roles:[\"admin\"]}}]},{path:\"/permission\",component:s.a,meta:{roles:[\"admin\"],title:\"权限管理\",icon:\"admin\"},children:[{path:\"list\",component:()=>i.e(8).then(i.bind(null,846)),name:\"roleList\",meta:{title:\"角色列表\",icon:\"admin\"}},{path:\"permissionList\",component:()=>i.e(9).then(i.bind(null,851)),name:\"permissionList\",meta:{title:\"权限列表\",icon:\"admin\"}},{path:\"role\",component:()=>i.e(6).then(i.bind(null,833)),name:\"permission Role\",meta:{title:\"角色权限\",icon:\"admin\"}}]},{path:\"*\",redirect:\"/404\",hidden:!0}];var m={namespaced:!0,state:{addRoutes:[],routes:[]},mutations:{SET_ROUTES:(e,t)=>{e.addRoutes=t,e.routes=o.a.concat(t)}},actions:{generateRoutes:({commit:e},t)=>new Promise(i=>{let n;n=t.includes(\"admin\")?r||[]:function e(t,i){const n=[];return t.forEach(t=>{const a={...t};(function(e,t){return!t.meta||!t.meta.roles||e.some(e=>t.meta.roles.includes(e))})(i,a)&&(a.children&&(a.children=e(a.children,i)),n.push(a))}),n}(r,t),e(\"SET_ROUTES\",n),i(n)})}},d=i(42),c=i(36);var l={namespaced:!0,state:{token:Object(d.a)(),name:\"\",avatar:\"\",introduction:\"\",roles:[]},mutations:{SET_TOKEN:(e,t)=>{e.token=t},SET_INTRODUCTION:(e,t)=>{e.introduction=t},SET_NAME:(e,t)=>{e.name=t},SET_AVATAR:(e,t)=>{e.avatar=t},SET_ROLES:(e,t)=>{e.roles=t}},actions:{login:({commit:e},t)=>new Promise((i,n)=>{const{userName:a}=t;let o=\"\";o=\"admin\"==a.trim().toLowerCase()?\"admin\":\"editor\",e(\"SET_TOKEN\",o),Object(d.c)(o),i()}),getInfo:({commit:e,state:t})=>new Promise((i,n)=>{\"admin\"==Object(d.a)()?e(\"SET_ROLES\",[\"admin\"]):e(\"SET_ROLES\",[\"editor\"]),e(\"SET_NAME\",\"name\"),e(\"SET_AVATAR\",\"avatar\"),e(\"SET_INTRODUCTION\",\"introduction\"),i(t.roles)}),resetToken:({commit:e})=>new Promise(t=>{e(\"SET_TOKEN\",\"\"),e(\"SET_ROLES\",[]),Object(d.b)(),t()}),logout:({commit:e,state:t,dispatch:i})=>new Promise((t,i)=>{document.getElementsByClassName(\"audioTag\").length>0&&document.getElementById(\"app\").removeChild(document.getElementsByClassName(\"audioTag\")[0]),e(\"SET_TOKEN\",\"\"),e(\"SET_ROLES\",[]),Object(d.b)(),Object(c.b)(),t()}),async changeRoles({commit:e,dispatch:t},i){const n=i.join(\"\");e(\"SET_ROLES\",i),e(\"SET_TOKEN\",n),Object(d.c)(n),Object(c.b)();const a=await t(\"permission/generateRoutes\",i,{root:!0});c.a.addRoutes(a)}}};var E={namespaced:!0,state:{sidebar:{opened:!0},device:\"pc\",showSetting:!1,headerVal:!0},actions:{toggleSideBar({commit:e}){e(\"TOGGLE_SIDEBAR\")},setSiderBar({commit:e},t){e(\"SET_SIDEBAR\",t)},setDevice({commit:e},t){e(\"SET_DEVICE\",t)},setShowSetting({commit:e},t){e(\"SET_SHOWSETTING\",t)},setHeaderVal({commit:e},t){e(\"SET_HEADERVAL\",t)}},mutations:{TOGGLE_SIDEBAR:e=>{e.sidebar.opened=!e.sidebar.opened},SET_SIDEBAR:(e,t)=>{e.sidebar.opened=t},SET_DEVICE:(e,t)=>{e.device=t},SET_SHOWSETTING:(e,t)=>{e.showSetting=t},SET_HEADERVAL:(e,t)=>{e.headerVal=t}}};var S={sidebar:e=>e.app.sidebar,device:e=>e.app.device,headerVal:e=>e.app.headerVal,showSetting:e=>e.app.showSetting,token:e=>e.user.token,avatar:e=>e.user.avatar,name:e=>e.user.name,introduction:e=>e.user.introduction,roles:e=>e.user.roles,permission_routes:e=>e.permission.routes};const T={userList:[],roleList:[]},u={addUserList:({commit:e},t)=>new Promise((i,n)=>{e(\"ADD_USERLIST\",t),i()}),delUserList:({commit:e,state:t},i)=>new Promise((n,a)=>{let o=t.userList.filter(e=>e.userId!=i.userId);e(\"DEL_USERLIST\",o),n()}),editUserList:({commit:e,state:t},i)=>new Promise((n,a)=>{let o=t.userList.map(e=>e.userId==i.userId?i:e);e(\"EDIT_USERLIST\",o),n()}),changeUserRole:({commit:e},t)=>new Promise((i,n)=>{let a=T.userList.map(e=>e.userId==t.userId?t:e);e(\"EDIT_USERLIST\",a),i()}),addRoleList:({commit:e},t)=>new Promise((i,n)=>{e(\"ADD_ROLELIST\",t),i()}),delRoleList:({commit:e,state:t},i)=>new Promise((n,a)=>{let o=t.roleList.filter(e=>e.roleId!=i.roleId);e(\"DEL_ROLELIST\",o),n()}),editRoleList:({commit:e,state:t},i)=>new Promise((n,a)=>{let o=t.roleList.map(e=>e.roleId==i.roleId?i:e);e(\"EDIT_ROLELIST\",o),n()})};var L={namespaced:!0,state:T,mutations:{ADD_USERLIST:(e,t)=>{e.userList.push(t)},EDIT_USERLIST:(e,t)=>{e.userList=t},DEL_USERLIST:(e,t)=>{e.userList=t},ADD_ROLELIST:(e,t)=>{e.roleList.push(t)},EDIT_ROLELIST:(e,t)=>{e.roleList=t},DEL_ROLELIST:(e,t)=>{e.roleList=t}},actions:u};n.default.use(a.a);const p=new a.a.Store({modules:{permission:m,user:l,app:E,data:L},getters:S});t.a=p}});","extractedComments":[]}